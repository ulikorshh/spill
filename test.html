test

<html>
<div id="selveSpillet">
    <div id="pcKort"></div>
    <div id="midtenKort"></div>
    <div id="dineKort"></div>
    <div id="knapp">trekk kort</div>
</div>

<div id="kortstokk"></div>

</html>

<style>
    #dineKort {
        display: flex;
        flex-direction: row;
        gap: 5px;
    }

    #pcKort {
        display: flex;
        flex-direction: row;
        gap: 5px;
    }

    #pcKort>img {
        width: 50px;
    }
</style>

<script>
    selveSpilletEl = document.querySelector("#selveSpillet")
    pcKortEl = document.querySelector("#pcKort")
    midtenKortEl = document.querySelector("#midtenKort")
    dineKortEl = document.querySelector("#dineKort")


    let midtenBilde = ""
    let antall = 11
    let dineKort = []
    let pcKort = []
    let kort_koder = []

    let erSpillerAktiv = true

    let trekkSpillerkort = async (i) => {

        let data = await fetch('https://deckofcardsapi.com/api/deck/new/draw/')
        let json = await data.json()
        let kort = json.cards

        if (!kort_koder.includes(kort[0].code)) {
            kort_koder.push(kort[0].code)


            if (i == 10) {

                midtenBilde = document.createElement("img")
                midtenBilde.src = (kort[0].image)
                midtenBilde.setAttribute("id", kort[0].value)
                midtenBilde.setAttribute("class", kort[0].suit)


                midtenKortEl.appendChild(midtenBilde)
            }

            else if (i % 2 == 0) {
                dineKort.push(kort[0])
                //console.log("kortet er unikt")

                let nyttSpillerBilde = document.createElement("img")
                nyttSpillerBilde.src = (kort[0].image)
                nyttSpillerBilde.addEventListener("click", sjekkKanLeggesPaa)
                nyttSpillerBilde.setAttribute("id", kort[0].value)
                nyttSpillerBilde.setAttribute("class", kort[0].suit)
                //nyttSpillerBilde.setAttribute("class",kort[0].code)
                //console.log("navnet på kort er: " + nyttSpillerBilde.id)
                //console.log("suiten på dette kortet er " + kort[0].suit)

                dineKortEl.appendChild(nyttSpillerBilde)
            }
            if (i % 2 !== 0) {
                pcKort.push(kort[0])
                //console.log(kort[0].value)
                let nyttPCbilde = document.createElement("img")
                nyttPCbilde.src = "/Users/sofiyaborshch/Documents/GitHub/spill/bilder/kortBakside.jpeg"
                nyttPCbilde.setAttribute("id", kort[0].value)
                nyttPCbilde.setAttribute("class", kort[0].suit)

                pcKortEl.appendChild(nyttPCbilde)
            }

        }

        else {
            //console.log("et kort er duplikat")
            trekkSpillerkort(i)
        }

    }

    for (i = 0; i < antall; i++) {
        trekkSpillerkort(i)
    }


    function sjekkKanLeggesPaa() {
        //console.log("nei")
        //console.log("Dette kortets suit:", this.className);
        //console.log("Midten korts suit:", midtenBilde.className);

        if (this.id == midtenBilde.id) {
            //console.log("lik value")
            midtenKortEl.innerHTML = ""
            midtenKortEl.appendChild(this)
            midtenBilde.setAttribute("id", this.id)
            midtenBilde.setAttribute("class", this.className)
            //erSpillerAktiv = false
            pcenSpiller()
        }

        else if (this.className == midtenBilde.className) { //className og ikke class fordi class er bare "suit", mens classname er nøkkelen, f.eks "Diamonds"
            //console.log("lik suit")
            midtenKortEl.innerHTML = ""
            midtenKortEl.appendChild(this)
            midtenBilde.setAttribute("id", this.id)
            midtenBilde.setAttribute("class", this.className)
            //erSpillerAktiv = false
            pcenSpiller()
        }

        else if (this.id == 8) {
            //console.log("8 tall")
            midtenKortEl.innerHTML = ""
            midtenKortEl.appendChild(this)
            midtenBilde.setAttribute("id", this.id)
            midtenBilde.setAttribute("class", this.className)
            //erSpillerAktiv = false
            pcenSpiller()
        }
    }

    let trekkEkstraSpillerkort = async () => {

        let data = await fetch('https://deckofcardsapi.com/api/deck/new/draw/')
        let json = await data.json()
        let kort = json.cards

        if (!kort_koder.includes(kort[0].code)) {
            kort_koder.push(kort[0].code)
            dineKort.push(kort[0])
            let nyttSpillerBilde = document.createElement("img")
            nyttSpillerBilde.src = (kort[0].image)
            nyttSpillerBilde.addEventListener("click", sjekkKanLeggesPaa)
            nyttSpillerBilde.setAttribute("id", kort[0].value)
            nyttSpillerBilde.setAttribute("class", kort[0].suit)
            dineKortEl.appendChild(nyttSpillerBilde)
        }
        else {
            console.log("kortet var duplikat")
            trekkEkstraSpillerkort()
        }
    }

    knappEl = document.querySelector("#knapp")
    knappEl.addEventListener("click", trekkEkstraSpillerkort)

    let pcenSpiller = async () => {
        console.log("pc_spiller start")

        let data = await fetch('https://deckofcardsapi.com/api/deck/new/draw/')
        let json = await data.json()
        let kort = json.cards

        function sjekkOmPCkortKanLeggesPaa() {
            console.log("pc_legge_på start")
            for (let j = 0; j < pcKort.length; j++) {
                if (pcKort[j].id == midtenBilde.id) {
                    //console.log("lik value")
                    let pcSpiltKort = document.createElement("img");
                    pcSpiltKort.src = pcKort[j].image;
                    pcSpiltKort.setAttribute("id", pcKort[j].value);
                    pcSpiltKort.setAttribute("class", pcKort[j].suit);

                    midtenKortEl.innerHTML = ""
                    midtenKortEl.appendChild(pcSpiltKort)
                    midtenBilde.setAttribute("id", pcSpiltKort[j].id)
                    midtenBilde.setAttribute("class", pcSpiltKort[j].className)
                    //erSpillerAktiv = true
                    

                }

                else if (pcKort[j].className == midtenBilde.className) { //className og ikke class fordi class er bare "suit", mens classname er nøkkelen, f.eks "Diamonds"
                    //console.log("lik suit")
                    let pcSpiltKort = document.createElement("img");
                    pcSpiltKort.src = pcKort[j].image;
                    pcSpiltKort.setAttribute("id", pcKort[j].value);
                    pcSpiltKort.setAttribute("class", pcKort[j].suit);

                    midtenKortEl.innerHTML = ""
                    midtenKortEl.appendChild(pcSpiltKort)
                    midtenBilde.setAttribute("id", pcSpiltKort[j].id)
                    midtenBilde.setAttribute("class", pcSpiltKort[j].className)
                    midtenBilde = pcSpiltKort;
                    //erSpillerAktiv = true

                }

                else if (pcKort[j].id == 8) {
                    //console.log("8 tall")

                    let pcSpiltKort = document.createElement("img");
                    pcSpiltKort.src = pcKort[j].image; pcSpiltKort.setAttribute("id", pcKort[j].value);
                    pcSpiltKort.setAttribute("class", pcKort[j].suit);

                    midtenKortEl.innerHTML = ""
                    midtenKortEl.appendChild(pcSpiltKort)
                    midtenBilde.setAttribute("id", pcSpiltKort[j].id)
                    midtenBilde.setAttribute("class", pcSpiltKort[j].className)
                    midtenBilde = pcSpiltKort;
                    //erSpillerAktiv = true

                }

                console.log("pc_legg_på slutt")
            }
            
        }
        console.log("pc_spiller slutt")
        sjekkOmPCkortKanLeggesPaa()
    }

   /* if (erSpillerAktiv === false) {
        setTimeout(() => {
            pcenSpiller();
        }, 1000);
        console.log("spiller aktivitet: ", erSpillerAktiv)
    }*/

    console.log("kort kodene er: ", kort_koder)
    console.log("dine kort er: ", dineKort)
    console.log("pc-ens kort er: ", pcKort)

</script>