<html>
    <div id="selveSpillet">
    <div id="pcKort"></div>
    <div id="midtenKort"></div>
    <div id="dineKort"></div>
    </div>

    <div id="kortstokk"></div>
</html>
 
<style>
    #dineKort{
        display: flex;
        flex-direction: row;
        gap: 5px;
    }
    #pcKort {
    display: flex;
    flex-direction: row;
    gap: 5px;
    }

    #pcKort > img {
    width: 50px;
}
 
</style>
 
<script>
    selveSpilletEl = document.querySelector("#selveSpillet")
    pcKortEl = document.querySelector("#pcKort")
    midtenKortEl = document.querySelector("#midtenKort")
    dineKortEl = document.querySelector("#dineKort")

    let midtenBilde = ""
    let antall = 11
    let dineKort = []
    let pcKort = []

    let kort_koder = []
 
    let trekkSpillerkort = async(i) =>{
        
        let data = await fetch('https://deckofcardsapi.com/api/deck/new/draw/')
        let json = await data.json()
        let kort = json.cards
 
        if(!kort_koder.includes(kort[0].code)){
            kort_koder.push(kort[0].code)

            if(i == 10){

                midtenBilde = document.createElement("img")
                midtenBilde.src =(kort[0].image)
                midtenBilde.setAttribute("id",kort[0].value)
                midtenBilde.setAttribute("class",kort[0].suit)
                

                midtenKortEl.appendChild(midtenBilde)
                }

            else if(i%2==0){
                dineKort.push(kort[0])
                console.log("kortet er unikt")

                let nyttSpillerBilde = document.createElement("img")
                nyttSpillerBilde.src =(kort[0].image)
                nyttSpillerBilde.addEventListener("click", sjekkKanLeggesPaa)
                nyttSpillerBilde.setAttribute("id",kort[0].value)
                nyttSpillerBilde.setAttribute("class",kort[0].suit)
                //nyttSpillerBilde.setAttribute("class",kort[0].code)
                console.log("navnet på kort er: "+ nyttSpillerBilde.id) 
                console.log("suiten på dette kortet er "+kort[0].suit)

                dineKortEl.appendChild(nyttSpillerBilde) 
            }
            if(i%2!==0){
                pcKort.push(kort[0])
                console.log(kort[0].value)
                let nyttPCbilde = document.createElement("img")
                nyttPCbilde.src = "/Users/sofiyaborshch/Documents/GitHub/spill/bilder/kortBakside.jpeg"

                pcKortEl.appendChild(nyttPCbilde)
            }
            
        }
        else{
            console.log("et kort er duplikat")
            trekkSpillerkort(i)
        }
        
    }
   
    for (i=0;i<antall;i++){
        trekkSpillerkort(i)
    }

    function sjekkKanLeggesPaa() {
        console.log("nei")
        console.log("Dette kortets suit:", this.className);
        console.log("Midten korts suit:", midtenBilde.className);

        if (this.id == midtenBilde.id) {
            console.log("lik value")
            midtenKortEl.innerHTML=""
            midtenKortEl.appendChild(this)
            midtenBilde.setAttribute("id",this.id)
            midtenBilde.setAttribute("class",this.className)
        }

        else if (this.className == midtenBilde.className) { //className og ikke class fordi class er bare "suit", mens classname er nøkkelen, f.eks "Diamonds"
            console.log("lik suit")
            midtenKortEl.innerHTML=""
            midtenKortEl.appendChild(this)
            midtenBilde.setAttribute("id",this.id)
            midtenBilde.setAttribute("class",this.className)
        }

        else if(this.id == 8){
            console.log("8 tall")
            midtenKortEl.innerHTML=""
            midtenKortEl.appendChild(this)
            midtenBilde.setAttribute("id",this.id)
            midtenBilde.setAttribute("class",this.className)
        }

        
    }

    console.log("kort kodene er: ",kort_koder)
    console.log("dine kort er: ",dineKort)
    console.log("pc-ens kort er: ",pcKort)
 
 
</script>